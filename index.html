<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>VIDEO HYPE</title>
        <link rel="icon" type="image/x-icon" href="favicon.png">
    </head>
    <body>
    </body>

    <style>
        body {
            margin: 0px;
        }
        h1 {
            margin: 0px;
            line-height: 72%;
            letter-spacing: -0.12em;
        }
        div {
            position: absolute;
            margin: 0px;
            border: 15px solid magenta;
            padding: 0px;
        }
    </style>

    <script>
        var framerate = 50;

        function loop() {
            var width = document.documentElement.clientWidth;
            var height = document.documentElement.clientHeight;

            let date = new Date();
            var time = date.getTime() / 1000;

            var unit = Math.sqrt(height * width) / 120;

            //Remove
            const divs = document.getElementsByTagName('div');
            var divsLength = divs.length;
            for (var i = 0; i < divsLength; i++) {
                divs[0].remove();
            }

            var borderWidth = unit;
            var widthB = width - 2 * borderWidth;
            var heightB = height - 2 * borderWidth;

            //Prepare
            const xs = [];
            const ys = [];
            const widthes = [];
            const heights = [];
            xs.push(0);
            ys.push(0);
            widthes.push(width);
            heights.push(height);
            for (var i = 0; i < 7; i++) {
                var xsLength = xs.length;
                for (var j = 0; j < xsLength; j++) {
                    var ratio = (Math.sin(time * (1 + (i * j) / 100) + i + j) + 1) * 0.3 + 0.2;
                    //Horizontal
                    if (i % 2 == 0) {
                        xs.push(xs[j] + widthes[j] * ratio);
                        ys.push(ys[j]);
                        widthes.push(widthes[j] * (1 - ratio));
                        heights.push(heights[j]);

                        widthes[j] *= ratio;
                    }
                    //Vertical
                    else {
                        xs.push(xs[j]);
                        ys.push(ys[j] + heights[j] * ratio);
                        widthes.push(widthes[j]);
                        heights.push(heights[j] * (1 - ratio));

                        heights[j] *= ratio;
                    }
                }
            }

            //Create
            for (var i = 0; i < xs.length; i++) {
                const newDiv = document.createElement('div');
                var r = Math.floor(Math.random() * 256);
                var g = Math.floor(Math.random() * 256);
                var b = Math.floor(Math.random() * 256);
                //newDiv.style.borderColor = 'rgb(' + r.toString() + ', ' + g.toString() + ', ' + b.toString() + ')';
                newDiv.style.borderWidth = borderWidth + 'px';
                newDiv.style.left = xs[i] + 'px';
                newDiv.style.top = ys[i] + 'px';
                newDiv.style.width = widthes[i] - 2 * borderWidth + 'px';
                newDiv.style.height = heights[i] - 2 * borderWidth + 'px';
                document.body.appendChild(newDiv);
                
                const p = document.createElement('h1');
                p.innerText = 'V I D E O \xa0 H Y P E';
                p.style.fontSize = 4 * unit + 'px';
                newDiv.appendChild(p);
            }
        }

        window.setInterval(loop, 1000 / framerate);

        function randomR(min, max) {
            return Math.random() * (max - min) + min;
        }
    </script>
</html>